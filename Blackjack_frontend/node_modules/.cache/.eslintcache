[{"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/index.js":"1","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/App.js":"2","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/reportWebVitals.js":"3","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/data.js":"4","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Players.jsx":"5","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Dealer.jsx":"6","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/StartDialog.jsx":"7","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Cards.jsx":"8","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/PlayerStatus.jsx":"9"},{"size":497,"mtime":1652606069944,"results":"10","hashOfConfig":"11"},{"size":4794,"mtime":1652614731659,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":1652281823701,"results":"13","hashOfConfig":"11"},{"size":485,"mtime":1652542027083,"results":"14","hashOfConfig":"11"},{"size":1897,"mtime":1652281823700,"results":"15","hashOfConfig":"11"},{"size":574,"mtime":1652540907987,"results":"16","hashOfConfig":"11"},{"size":1640,"mtime":1652281823700,"results":"17","hashOfConfig":"11"},{"size":1611,"mtime":1652281823700,"results":"18","hashOfConfig":"11"},{"size":1673,"mtime":1652281823700,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"7lln7j",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/index.js",[],["43","44"],"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/App.js",["45","46","47"],"\nimport { React, useState, useEffect } from 'react';\nimport Dealer from './components/Dealer';\nimport Player from './components/Players';\nimport styles from \"../src/style/table.module.css\"\nimport backgroundImage from \"./table_background.jpeg\"\nimport StartDialog from './components/StartDialog';\nimport Button from '@mui/material/Button';\n\nimport Web3 from 'web3'\n\n\n\n//import ReactDOM from 'react-dom';\n\n\n\nconst App=()=> {\n\n  const PROVIDER_URL='http://localhost:3000'\n\n  const connectWalletHandler= async()=>{\n    //const web3= new Web3(PROVIDER_URL)\n    let provider=window.ethereum;\n    if(typeof provider!==\"undefined\"){\n      try{\n        const accounts= await provider.request({method:\"eth_requestAccounts\"})\n        setAccount(accounts[0])\n      }catch(err){\n        console.log(\"err:\",err)\n      }\n       \n\n    }\n    else{\n      alert(\"You need to install MetaMask.\")\n    }\n\n  }\n    \n\n  \n\n\n\n  /*\n  This method is for initiallizing deck \n  */\n  const deckBuilder=()=>{\n    const temp_deck=[]\n    const values = [\"A\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"J\", \"Q\", \"K\"];\n    const types = [\"C\", \"D\", \"H\", \"S\"]; \n    for (let i=0;i<types.length;i++ ){\n      for(let j=0;j<values.length;j++){\n       temp_deck.push({value:values[j],\n                   type:types[i]})\n      }\n    }\n    for (let i = temp_deck.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = temp_deck[i];\n      temp_deck[i] = temp_deck[j];\n      temp_deck[j] = temp;\n  }\n  return temp_deck\n   }\n \n   \n   \n  const dealingInterval=1000;\n\n  const [account,setAccount]=useState(null)\n\n  const initialCardCount=2\n  \n  const [isInitialStarted,setIsInitialStarted]=useState(false)\n\n  const[playerList,setPlayerList]=useState([])\n  \n  const[deck,]=useState(deckBuilder())\n\n  const[dealerCardList, setDealerCardList]=useState([])\n\n  const[turnIndex,setTurnIndex]=useState('')\n\n  const[isDealerTurn,setIsDealerTurn]=useState(false)\n\n\n\n  /*\n  Fetch players' data and then initiallize player list.\n  When isRoundStarted truns true, each player gets their initial cards by triggering dealing method\n  */\n\n  \n  useEffect(()=>{\n    const fetchPlayer= async () => {\n        try{\n          const res= await import(\"./data\")\n          setPlayerList(res.default)\n          \n          dealing(res.default)   \n              \n        }catch(err){\n            console.log(\"err: \",err)\n        }\n\n    }\n    fetchPlayer()\n   \n},[isInitialStarted])\n\n\n\n\n \n   \n    \n/*\n  In certain amount of duration, normal player gets card with clockwise order.\n  Dealer gets card lastly.\n  */\n     \n    \n  \nconst wait = (ms) => new Promise(resolve => setTimeout(resolve, ms))\n\nconst dealing = async (playerList)=>{\n    const temp_playerList=playerList\n    const temp_dealerCardList=dealerCardList\n    if(isInitialStarted!==true){\n      return\n    }\n    else{\n      for (let i=0; i <initialCardCount; i++ ){\n        for (let j=0;j<temp_playerList.length;j++){\n          await wait(dealingInterval)\n          temp_playerList[j].cardList.push(deck.pop())\n          setPlayerList([...temp_playerList])\n      }\n      await wait(dealingInterval)\n      temp_dealerCardList.push(deck.pop())\n      setDealerCardList([...temp_dealerCardList])\n      }\n\n    }\n    setIsInitialStarted(false)\n    setTurnIndex(0)\n    \n    \n    \n  }\n/*\n  Start dealing cards.\n  */\n\n  const startHandler=()=>{\n    setIsInitialStarted(true)\n  }\n\n  const nextPlayerHandler=()=>{\n    if (turnIndex<playerList.length-1){\n    const nextIndex=turnIndex+1\n    setTurnIndex(nextIndex)\n    }\n    else{\n      setIsDealerTurn(true)\n    }\n  }\n\n  const hitHandler=(index)=>{\n    const temp_playerList=playerList\n    temp_playerList[index].cardList.push(deck.pop())\n    setPlayerList([...temp_playerList])\n  }\n\n\n \n  \n\n\n  \n\n  return (\n    <>\n    <section\n    style={\n      {\n        position:\"absolute\",\n        marginLeft:\"1800px\",\n        paddingTop:\"30px\",\n        paddingRight:\"30px\"\n\n      }\n    }\n    >\n     <StartDialog\n    startHandler={startHandler}\n    />\n   <Button \n   style={{ \n    marginLeft: \"auto\",\n    marginBottom:\"-40px\" }}\n   onClick={connectWalletHandler}\n   variant=\"contained\"\n   >{\"Switch wallet\"}\n   </Button>\n  \n   </section>\n    <div \n    className={styles.table}\n    style={{backgroundImage: `url(${backgroundImage})`}}\n    >\n   <p>\n     {`this is current account:${account}`}\n   </p>\n   \n    <Dealer\n    cardList={dealerCardList}\n    isDealerTurn={isDealerTurn}\n    />\n    \n    {playerList.map((player, index)=><Player\n      key={index}\n      playerIndex={index}\n      name={player.name}\n      isMe={player.isMe}\n      bet={player.bet}\n      cardList={player.cardList}\n      whosTurn={turnIndex}\n      nextPlayerHandler={nextPlayerHandler}\n      hitHandler={hitHandler}/>\n    )}\n    \n    </div>\n    </>\n  )\n}\n\nexport default App;\n","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/reportWebVitals.js",[],"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/data.js",["48"],"\nconst playerList=[]\n\nconst player1={\n    bet:10,\n    name:\"aaa\",\n    isMe:true,\n    cardList:[]\n  }\n  const player2={\n    bet:12,\n    name:\"bbb\",\n    isMe:false,\n    cardList:[]\n  }\n  const player3={\n    bet:5,\n    name:\"ccc\",\n    isMe:false,\n    cardList:[]\n  }\n  const player4={\n    bet:7,\n    name:\"ddd\",\n    isMe:false,\n    cardList:[]\n  }\n\n  playerList.push(player1)\n  playerList.push(player2)\n  playerList.push(player3) \n  //playerList.push(player4)\n\n  export default playerList","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Players.jsx",[],"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Dealer.jsx",["49","50"],"import { React, useState, useEffect } from 'react';\nimport Card from \"./Cards\"\nimport styles from \"../style/player.module.css\";\n\nconst Dealer=({cardList,isDealerTurn})=>{\n    \n\n    return(\n        <div className={styles.handContainer}>\n        <div className={styles.cardContainer} >\n          {cardList.map((card, index)=><Card \n          key={index}\n          index={index}\n          value={card.value}\n          type={card.type}\n          num={cardList.length}\n          isDealer={true}\n         />)}\n          \n        </div>\n        </div>\n    )\n}\nexport default Dealer","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/StartDialog.jsx",["51"],"import { React, useState, useEffect } from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\n\nconst StartDialog=({startHandler})=>{\n\nconst [isOpen, setIsOpen] =useState(true);\n\n\n\n\n  return (\n    <div>\n      <Dialog\n        open={isOpen}\n        onClose={()=>{setIsOpen(false)}}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Welcome mate!\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            This is the frond end part of our black jack Dapp, the current \n            version can perfrom deal cards and control all player's hit or \n            stay for simulation purpose (In the completed version, current user should only have his/her own \n            hit and stay button.) The timer function is also implemented for allowing players to decide within 15 second.\n            Lastly, the hit or stay function for dealer cannot not be implemented prior contract development.   \n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>\n          {startHandler()\n          setIsOpen(false)}} autoFocus>\n            START\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\nexport default StartDialog","/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/Cards.jsx",[],"/Users/tedwu/Desktop/未命名檔案夾 4/Blackjack/Blackjack_frontend/src/components/PlayerStatus.jsx",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":10,"column":8,"nodeType":"58","messageId":"59","endLine":10,"endColumn":12},{"ruleId":"56","severity":1,"message":"60","line":20,"column":9,"nodeType":"58","messageId":"59","endLine":20,"endColumn":21},{"ruleId":"61","severity":1,"message":"62","line":111,"column":3,"nodeType":"63","endLine":111,"endColumn":21,"suggestions":"64"},{"ruleId":"56","severity":1,"message":"65","line":22,"column":9,"nodeType":"58","messageId":"59","endLine":22,"endColumn":16},{"ruleId":"56","severity":1,"message":"66","line":1,"column":17,"nodeType":"58","messageId":"59","endLine":1,"endColumn":25},{"ruleId":"56","severity":1,"message":"67","line":1,"column":27,"nodeType":"58","messageId":"59","endLine":1,"endColumn":36},{"ruleId":"56","severity":1,"message":"67","line":1,"column":27,"nodeType":"58","messageId":"59","endLine":1,"endColumn":36},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'Web3' is defined but never used.","Identifier","unusedVar","'PROVIDER_URL' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dealing'. Either include it or remove the dependency array.","ArrayExpression",["70"],"'player4' is assigned a value but never used.","'useState' is defined but never used.","'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"71","fix":"72"},"Update the dependencies array to be: [dealing, isInitialStarted]",{"range":"73","text":"74"},[2427,2445],"[dealing, isInitialStarted]"]